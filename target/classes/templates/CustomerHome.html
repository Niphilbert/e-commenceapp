<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="ISO-8859-1">
    <title>Customer Home</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            setTimeout(function () {
                var h2Elements = document.querySelectorAll('h2.message, h3.message');
                h2Elements.forEach(function (element) {
                    element.style.display = 'none';
                });
            }, 1000);
        });
    </script>
</head>

<body class="font-sans bg-gray-100 text-gray-800">

<!-- Navbar -->
<header class="bg-gray-800 shadow py-4 fixed w-full top-0 z-50">
    <div class="container mx-auto flex justify-between items-center px-4">
        <div class="text-2xl font-bold text-white">Phill_store</div>
        <nav class="space-x-4">
            <a href="/customer/home" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Customer Home</a>
            <a href="/customer/fetch-cart" class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-700 transition duration-300">View Cart</a>
            <a href="/customer/fetch-orders" class="bg-yellow-500 text-white py-2 px-4 rounded hover:bg-yellow-700 transition duration-300">View Orders</a>
            <a href="/logout" class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-700 transition duration-300">Logout</a>
        </nav>
    </div>
</header>

<!-- Main Content -->
<main class="container mx-auto text-center mt-32">
    <h1 class="text-4xl font-bold text-gray-800 mb-6">Customer Home</h1>
    <h2 class="message text-green-500 text-2xl mb-4" th:text="${pass}"></h2>
    <h3 class="message text-red-500 text-2xl mb-4" th:text="${fail}"></h3>

    <!-- Search Form -->
    <form action="/customer/search" method="get" class="mb-10">
        <input type="text" name="query" placeholder="Search for products..." class="w-1/2 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Search</button>
    </form>

    <div class="flex flex-wrap justify-center mt-10" id="products">
        <div th:each="product : ${products}" class="product bg-white p-6 m-4 rounded-lg shadow-lg hover:shadow-2xl transition duration-300 max-w-xs">
            <img th:src="@{'data:image/jpeg;base64,' + ${product.generateBase64Image()}}" alt="Product Image" class="w-full h-48 object-cover rounded-lg mb-4"/>
            <h2 th:text="${product.name}" class="text-xl font-semibold mb-2">Product Name</h2>
            <p th:text="'Price: ' + ${product.price}" class="text-lg text-gray-700 mb-4">Product Price</p>
            <button th:attr="onclick='location.href=\'/customer/cart-add/' + ${product.id} + '\''" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Add to Cart</button>
        </div>
    </div>
</main>

<!-- Footer -->
<footer class="bg-gray-800 text-white text-center py-6 mt-20">
    <p>&copy; 2024 Phill_sore. All rights reserved.</p>
    <p>
        <a href="/privacy-policy" class="text-blue-400 hover:underline mx-2">Privacy Policy</a>
        <a href="/terms-of-service" class="text-blue-400 hover:underline mx-2">Terms of Service</a>
    </p>
</footer>

</body>

</html>
